{"version":3,"sources":["../../../../src/app/admin/newsletter/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useSession } from 'next-auth/react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useEffect, useState } from 'react'\r\nimport AdminNav from '@/components/layout/admin-nav'\r\n\r\ninterface Subscriber {\r\n  id: number\r\n  email: string\r\n  subscribedAt: string\r\n  isActive: boolean\r\n}\r\n\r\nexport default function NewsletterPage() {\r\n  const { data: session, status } = useSession()\r\n  const router = useRouter()\r\n  const [subscribers, setSubscribers] = useState<Subscriber[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState('all')\r\n  const [showComposeModal, setShowComposeModal] = useState(false)\r\n  const [newsletterSubject, setNewsletterSubject] = useState('')\r\n  const [newsletterContent, setNewsletterContent] = useState('')\r\n  const [uploadedImages, setUploadedImages] = useState<{ file: File; preview: string; id: string }[]>([])\r\n  const [recipientFilter, setRecipientFilter] = useState<'all' | 'active' | 'inactive' | 'custom'>('active')\r\n  const [selectedEmails, setSelectedEmails] = useState<string[]>([])\r\n  const [sending, setSending] = useState(false)\r\n  const [sendingProgress, setSendingProgress] = useState(0)\r\n\r\n  useEffect(() => {\r\n    if (status === 'unauthenticated') {\r\n      router.push('/admin/login')\r\n    }\r\n  }, [status, router])\r\n\r\n  useEffect(() => {\r\n    if (status === 'authenticated') {\r\n      fetchSubscribers()\r\n    }\r\n  }, [status])\r\n\r\n  const fetchSubscribers = async () => {\r\n    try {\r\n      const response = await fetch('/api/newsletter')\r\n      const data = await response.json()\r\n      setSubscribers(data)\r\n    } catch (error) {\r\n      console.error('Error fetching subscribers:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleToggleStatus = async (id: number, currentStatus: boolean) => {\r\n    try {\r\n      const response = await fetch(`/api/newsletter?id=${id}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ isActive: !currentStatus }),\r\n      })\r\n\r\n      if (response.ok) {\r\n        fetchSubscribers()\r\n      } else {\r\n        alert('Failed to update subscriber status')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating subscriber:', error)\r\n      alert('Error updating subscriber status')\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('Are you sure you want to delete this subscriber?')) return\r\n\r\n    try {\r\n      const response = await fetch(`/api/newsletter?id=${id}`, {\r\n        method: 'DELETE',\r\n      })\r\n\r\n      if (response.ok) {\r\n        fetchSubscribers()\r\n        alert('Subscriber deleted successfully!')\r\n      } else {\r\n        alert('Failed to delete subscriber')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting subscriber:', error)\r\n      alert('Error deleting subscriber')\r\n    }\r\n  }\r\n\r\n  const exportToCSV = () => {\r\n    const headers = ['Email', 'Subscribed At', 'Status']\r\n    const rows = filteredSubscribers.map(sub => [\r\n      sub.email,\r\n      new Date(sub.subscribedAt).toLocaleString(),\r\n      sub.isActive ? 'Active' : 'Inactive'\r\n    ])\r\n\r\n    const csvContent = [\r\n      headers.join(','),\r\n      ...rows.map(row => row.map(cell => `\"${cell}\"`).join(','))\r\n    ].join('\\n')\r\n\r\n    const blob = new Blob([csvContent], { type: 'text/csv' })\r\n    const url = window.URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = `newsletter-subscribers-${new Date().toISOString().split('T')[0]}.csv`\r\n    a.click()\r\n    window.URL.revokeObjectURL(url)\r\n  }\r\n\r\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = Array.from(e.target.files || [])\r\n    if (files.length === 0) return\r\n\r\n    const newImages = files.map(file => ({\r\n      file,\r\n      preview: URL.createObjectURL(file),\r\n      id: Math.random().toString(36).substring(7)\r\n    }))\r\n\r\n    setUploadedImages(prev => [...prev, ...newImages])\r\n  }\r\n\r\n  const removeImage = (id: string) => {\r\n    setUploadedImages(prev => {\r\n      const image = prev.find(img => img.id === id)\r\n      if (image) URL.revokeObjectURL(image.preview)\r\n      return prev.filter(img => img.id !== id)\r\n    })\r\n  }\r\n\r\n  const insertImageToContent = (imageUrl: string) => {\r\n    const imageTag = `<img src=\"${imageUrl}\" alt=\"Newsletter image\" style=\"max-width: 100%; height: auto; border-radius: 8px; margin: 20px 0;\" />`\r\n    setNewsletterContent(prev => prev + '\\n' + imageTag)\r\n  }\r\n\r\n  const handleSendNewsletter = async () => {\r\n    if (!newsletterSubject.trim() || !newsletterContent.trim()) {\r\n      alert('Please provide both subject and content')\r\n      return\r\n    }\r\n\r\n    // Filter recipients based on selection\r\n    let targetRecipients: Subscriber[] = []\r\n    if (recipientFilter === 'all') {\r\n      targetRecipients = subscribers\r\n    } else if (recipientFilter === 'active') {\r\n      targetRecipients = subscribers.filter(s => s.isActive)\r\n    } else if (recipientFilter === 'inactive') {\r\n      targetRecipients = subscribers.filter(s => !s.isActive)\r\n    } else if (recipientFilter === 'custom') {\r\n      targetRecipients = subscribers.filter(s => selectedEmails.includes(s.email))\r\n    }\r\n\r\n    if (targetRecipients.length === 0) {\r\n      alert('No recipients selected. Please select at least one recipient.')\r\n      return\r\n    }\r\n\r\n    if (!confirm(`Send newsletter to ${targetRecipients.length} subscriber(s)?`)) {\r\n      return\r\n    }\r\n\r\n    setSending(true)\r\n    setSendingProgress(0)\r\n\r\n    try {\r\n      // Convert uploaded images to base64\r\n      const imagePromises = uploadedImages.map(async (img) => {\r\n        return new Promise<{ id: string; data: string }>((resolve) => {\r\n          const reader = new FileReader()\r\n          reader.onloadend = () => {\r\n            resolve({ id: img.id, data: reader.result as string })\r\n          }\r\n          reader.readAsDataURL(img.file)\r\n        })\r\n      })\r\n\r\n      const base64Images = await Promise.all(imagePromises)\r\n      \r\n      // Replace preview URLs with base64 in content\r\n      let finalContent = newsletterContent\r\n      uploadedImages.forEach((img, index) => {\r\n        finalContent = finalContent.replace(img.preview, base64Images[index].data)\r\n      })\r\n\r\n      const response = await fetch('/api/newsletter/send', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          subject: newsletterSubject,\r\n          content: finalContent,\r\n          recipients: targetRecipients.map(r => r.email),\r\n        }),\r\n      })\r\n\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        alert(`Newsletter sent successfully to ${result.sent} subscribers!`)\r\n        setShowComposeModal(false)\r\n        setNewsletterSubject('')\r\n        setNewsletterContent('')\r\n        setUploadedImages([])\r\n      } else {\r\n        const error = await response.json()\r\n        alert(`Failed to send newsletter: ${error.error}`)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending newsletter:', error)\r\n      alert('Error sending newsletter')\r\n    } finally {\r\n      setSending(false)\r\n      setSendingProgress(0)\r\n    }\r\n  }\r\n\r\n  const filteredSubscribers = subscribers.filter(sub => {\r\n    const matchesSearch = sub.email.toLowerCase().includes(searchQuery.toLowerCase())\r\n    const matchesStatus = statusFilter === 'all' ||\r\n                         (statusFilter === 'active' && sub.isActive) ||\r\n                         (statusFilter === 'inactive' && !sub.isActive)\r\n    return matchesSearch && matchesStatus\r\n  })\r\n\r\n  const stats = {\r\n    total: subscribers.length,\r\n    active: subscribers.filter(s => s.isActive).length,\r\n    inactive: subscribers.filter(s => !s.isActive).length,\r\n  }\r\n\r\n  if (status === 'loading' || loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-emerald-600 text-xl\">Loading...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (status === 'unauthenticated') return null\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <AdminNav />\r\n      <div className=\"p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between mb-8\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Newsletter Subscribers</h1>\r\n              <p className=\"text-gray-600\">Manage email subscriptions and send newsletters</p>\r\n            </div>\r\n            <div className=\"flex gap-3\">\r\n              <button\r\n                onClick={() => setShowComposeModal(true)}\r\n                className=\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors flex items-center gap-2\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                </svg>\r\n                Compose Newsletter\r\n              </button>\r\n              <button\r\n                onClick={exportToCSV}\r\n                className=\"px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold transition-colors flex items-center gap-2\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                </svg>\r\n                Export CSV\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stats Cards */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n            <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\r\n                  <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                  </svg>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-500 text-sm font-medium\">Total Subscribers</p>\r\n                  <p className=\"text-3xl font-bold text-gray-900\">{stats.total}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\r\n                  <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-500 text-sm font-medium\">Active</p>\r\n                  <p className=\"text-3xl font-bold text-gray-900\">{stats.active}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center\">\r\n                  <svg className=\"w-6 h-6 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\" />\r\n                  </svg>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-500 text-sm font-medium\">Inactive</p>\r\n                  <p className=\"text-3xl font-bold text-gray-900\">{stats.inactive}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6\">\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Search\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  placeholder=\"Search by email...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-900 bg-white\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Filter by Status\r\n                </label>\r\n                <select\r\n                  value={statusFilter}\r\n                  onChange={(e) => setStatusFilter(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-gray-900 bg-white\"\r\n                >\r\n                  <option value=\"all\">All Statuses</option>\r\n                  <option value=\"active\">Active</option>\r\n                  <option value=\"inactive\">Inactive</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Subscribers Table */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\r\n                      Email\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\r\n                      Subscribed At\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider\">\r\n                      Status\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider\">\r\n                      Actions\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-gray-200\">\r\n                  {filteredSubscribers.length === 0 ? (\r\n                    <tr>\r\n                      <td colSpan={4} className=\"px-6 py-12 text-center\">\r\n                        <svg className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                        </svg>\r\n                        <p className=\"text-gray-500\">No subscribers found</p>\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    filteredSubscribers.map((subscriber) => (\r\n                      <tr key={subscriber.id} className=\"hover:bg-gray-50 transition-colors\">\r\n                        <td className=\"px-6 py-4\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center\">\r\n                              <svg className=\"w-5 h-5 text-emerald-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207\" />\r\n                              </svg>\r\n                            </div>\r\n                            <span className=\"text-sm font-medium text-gray-900\">{subscriber.email}</span>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 text-sm text-gray-600\">\r\n                          {new Date(subscriber.subscribedAt).toLocaleDateString()} at{' '}\r\n                          {new Date(subscriber.subscribedAt).toLocaleTimeString()}\r\n                        </td>\r\n                        <td className=\"px-6 py-4\">\r\n                          <button\r\n                            onClick={() => handleToggleStatus(subscriber.id, subscriber.isActive)}\r\n                            className={`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${\r\n                              subscriber.isActive\r\n                                ? 'bg-green-100 text-green-700 hover:bg-green-200'\r\n                                : 'bg-red-100 text-red-700 hover:bg-red-200'\r\n                            }`}\r\n                          >\r\n                            {subscriber.isActive ? 'Active' : 'Inactive'}\r\n                          </button>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 text-right\">\r\n                          <button\r\n                            onClick={() => handleDelete(subscriber.id)}\r\n                            className=\"text-red-600 hover:text-red-700 font-medium text-sm transition-colors\"\r\n                          >\r\n                            Delete\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Results Count */}\r\n          <div className=\"mt-4 text-sm text-gray-600 text-center\">\r\n            Showing {filteredSubscribers.length} of {subscribers.length} subscribers\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Compose Newsletter Modal */}\r\n      {showComposeModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">Compose Newsletter</h2>\r\n                <button\r\n                  onClick={() => setShowComposeModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                >\r\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n              <p className=\"text-sm text-gray-600 mt-2\">\r\n                Send to {stats.active} active subscribers\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-6\">\r\n              {/* Recipient Selection */}\r\n              <div className=\"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl p-6 border-2 border-emerald-200\">\r\n                <label className=\"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-4\">\r\n                  <svg className=\"w-5 h-5 text-emerald-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\r\n                  </svg>\r\n                  Select Recipients *\r\n                </label>\r\n                \r\n                <div className=\"space-y-3\">\r\n                  {/* Radio Options */}\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                    <label className=\"flex items-center gap-3 p-4 bg-white border-2 border-emerald-200 rounded-lg cursor-pointer hover:border-emerald-400 transition-all duration-200 has-[:checked]:border-emerald-500 has-[:checked]:bg-emerald-50\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"recipientFilter\"\r\n                        value=\"active\"\r\n                        checked={recipientFilter === 'active'}\r\n                        onChange={(e) => setRecipientFilter(e.target.value as any)}\r\n                        className=\"w-4 h-4 text-emerald-600 focus:ring-emerald-500\"\r\n                      />\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"font-semibold text-gray-900\">Active Subscribers</p>\r\n                        <p className=\"text-xs text-gray-600\">{stats.active} subscribers</p>\r\n                      </div>\r\n                    </label>\r\n\r\n                    <label className=\"flex items-center gap-3 p-4 bg-white border-2 border-emerald-200 rounded-lg cursor-pointer hover:border-emerald-400 transition-all duration-200 has-[:checked]:border-emerald-500 has-[:checked]:bg-emerald-50\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"recipientFilter\"\r\n                        value=\"all\"\r\n                        checked={recipientFilter === 'all'}\r\n                        onChange={(e) => setRecipientFilter(e.target.value as any)}\r\n                        className=\"w-4 h-4 text-emerald-600 focus:ring-emerald-500\"\r\n                      />\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"font-semibold text-gray-900\">All Subscribers</p>\r\n                        <p className=\"text-xs text-gray-600\">{stats.total} subscribers</p>\r\n                      </div>\r\n                    </label>\r\n\r\n                    <label className=\"flex items-center gap-3 p-4 bg-white border-2 border-emerald-200 rounded-lg cursor-pointer hover:border-emerald-400 transition-all duration-200 has-[:checked]:border-emerald-500 has-[:checked]:bg-emerald-50\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"recipientFilter\"\r\n                        value=\"inactive\"\r\n                        checked={recipientFilter === 'inactive'}\r\n                        onChange={(e) => setRecipientFilter(e.target.value as any)}\r\n                        className=\"w-4 h-4 text-emerald-600 focus:ring-emerald-500\"\r\n                      />\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"font-semibold text-gray-900\">Inactive Subscribers</p>\r\n                        <p className=\"text-xs text-gray-600\">{stats.inactive} subscribers</p>\r\n                      </div>\r\n                    </label>\r\n\r\n                    <label className=\"flex items-center gap-3 p-4 bg-white border-2 border-emerald-200 rounded-lg cursor-pointer hover:border-emerald-400 transition-all duration-200 has-[:checked]:border-emerald-500 has-[:checked]:bg-emerald-50\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"recipientFilter\"\r\n                        value=\"custom\"\r\n                        checked={recipientFilter === 'custom'}\r\n                        onChange={(e) => setRecipientFilter(e.target.value as any)}\r\n                        className=\"w-4 h-4 text-emerald-600 focus:ring-emerald-500\"\r\n                      />\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"font-semibold text-gray-900\">Custom Selection</p>\r\n                        <p className=\"text-xs text-gray-600\">Choose specific emails</p>\r\n                      </div>\r\n                    </label>\r\n                  </div>\r\n\r\n                  {/* Custom Email Selection */}\r\n                  {recipientFilter === 'custom' && (\r\n                    <div className=\"mt-4 p-4 bg-white border-2 border-emerald-300 rounded-lg max-h-64 overflow-y-auto\">\r\n                      <div className=\"flex items-center justify-between mb-3\">\r\n                        <p className=\"text-sm font-semibold text-gray-700\">\r\n                          Select Subscribers ({selectedEmails.length} selected)\r\n                        </p>\r\n                        <div className=\"flex gap-2\">\r\n                          <button\r\n                            onClick={() => setSelectedEmails(subscribers.map(s => s.email))}\r\n                            className=\"text-xs px-3 py-1 bg-emerald-100 text-emerald-700 rounded-md hover:bg-emerald-200 font-semibold\"\r\n                          >\r\n                            Select All\r\n                          </button>\r\n                          <button\r\n                            onClick={() => setSelectedEmails([])}\r\n                            className=\"text-xs px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 font-semibold\"\r\n                          >\r\n                            Clear\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        {subscribers.map((subscriber) => (\r\n                          <label\r\n                            key={subscriber.id}\r\n                            className=\"flex items-center gap-3 p-2 hover:bg-emerald-50 rounded-lg cursor-pointer\"\r\n                          >\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={selectedEmails.includes(subscriber.email)}\r\n                              onChange={(e) => {\r\n                                if (e.target.checked) {\r\n                                  setSelectedEmails(prev => [...prev, subscriber.email])\r\n                                } else {\r\n                                  setSelectedEmails(prev => prev.filter(email => email !== subscriber.email))\r\n                                }\r\n                              }}\r\n                              className=\"w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500\"\r\n                            />\r\n                            <span className=\"text-sm text-gray-700 flex-1\">{subscriber.email}</span>\r\n                            <span className={`text-xs px-2 py-1 rounded-full ${subscriber.isActive ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-600'}`}>\r\n                              {subscriber.isActive ? 'Active' : 'Inactive'}\r\n                            </span>\r\n                          </label>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Recipient Count Display */}\r\n                  <div className=\"flex items-center gap-2 p-3 bg-emerald-100 border border-emerald-300 rounded-lg\">\r\n                    <svg className=\"w-5 h-5 text-emerald-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                    </svg>\r\n                    <p className=\"text-sm font-semibold text-emerald-800\">\r\n                      Newsletter will be sent to {\r\n                        recipientFilter === 'all' ? stats.total :\r\n                        recipientFilter === 'active' ? stats.active :\r\n                        recipientFilter === 'inactive' ? stats.inactive :\r\n                        selectedEmails.length\r\n                      } recipient(s)\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Subject */}\r\n              <div className=\"relative\">\r\n                <label className=\"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3\">\r\n                  <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z\" />\r\n                  </svg>\r\n                  Subject Line *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newsletterSubject}\r\n                  onChange={(e) => setNewsletterSubject(e.target.value)}\r\n                  placeholder=\"Enter your newsletter subject...\"\r\n                  className=\"w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 text-gray-900 bg-white transition-all duration-200 text-lg font-medium placeholder:text-gray-400\"\r\n                />\r\n              </div>\r\n\r\n              {/* Media Upload Section */}\r\n              <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-dashed border-blue-200\">\r\n                <label className=\"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3\">\r\n                  <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                  </svg>\r\n                  Media & Attachments\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  multiple\r\n                  onChange={handleImageUpload}\r\n                  className=\"hidden\"\r\n                  id=\"image-upload\"\r\n                />\r\n                <label\r\n                  htmlFor=\"image-upload\"\r\n                  className=\"cursor-pointer flex flex-col items-center justify-center py-8 px-4 border-2 border-blue-300 border-dashed rounded-lg hover:bg-blue-50 transition-all duration-200 bg-white\"\r\n                >\r\n                  <svg className=\"w-12 h-12 text-blue-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n                  </svg>\r\n                  <p className=\"text-blue-600 font-semibold mb-1\">Click to upload images or flyers</p>\r\n                  <p className=\"text-xs text-gray-500\">PNG, JPG, GIF up to 10MB</p>\r\n                </label>\r\n\r\n                {/* Uploaded Images Preview */}\r\n                {uploadedImages.length > 0 && (\r\n                  <div className=\"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4\">\r\n                    {uploadedImages.map((img) => (\r\n                      <div key={img.id} className=\"relative group\">\r\n                        <img\r\n                          src={img.preview}\r\n                          alt=\"Uploaded\"\r\n                          className=\"w-full h-32 object-cover rounded-lg border-2 border-gray-200 shadow-sm\"\r\n                        />\r\n                        <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 rounded-lg flex items-center justify-center gap-2\">\r\n                          <button\r\n                            onClick={() => insertImageToContent(img.preview)}\r\n                            className=\"opacity-0 group-hover:opacity-100 px-3 py-2 bg-blue-600 text-white text-xs font-semibold rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg\"\r\n                          >\r\n                            Insert\r\n                          </button>\r\n                          <button\r\n                            onClick={() => removeImage(img.id)}\r\n                            className=\"opacity-0 group-hover:opacity-100 px-3 py-2 bg-red-600 text-white text-xs font-semibold rounded-lg hover:bg-red-700 transition-all duration-200 shadow-lg\"\r\n                          >\r\n                            Remove\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Content */}\r\n              <div>\r\n                <label className=\"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3\">\r\n                  <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                  </svg>\r\n                  Newsletter Content *\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <textarea\r\n                    value={newsletterContent}\r\n                    onChange={(e) => setNewsletterContent(e.target.value)}\r\n                    placeholder=\"Write your newsletter content here... Use HTML tags for rich formatting!&#10;&#10;Examples:&#10;<h1>Heading</h1>&#10;<p>Paragraph text</p>&#10;<strong>Bold text</strong>&#10;<a href='url'>Link</a>\"\r\n                    rows={15}\r\n                    className=\"w-full px-5 py-4 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 text-gray-900 bg-white font-mono text-sm transition-all duration-200 placeholder:text-gray-400\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex items-start gap-2 mt-3 p-4 bg-amber-50 border border-amber-200 rounded-lg\">\r\n                  <svg className=\"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <div className=\"text-xs text-amber-800\">\r\n                    <p className=\"font-semibold mb-1\">Pro Tips:</p>\r\n                    <ul className=\"space-y-1 list-disc list-inside\">\r\n                      <li>Use HTML tags: &lt;h1&gt;, &lt;p&gt;, &lt;strong&gt;, &lt;a href=\"...\"&gt;</li>\r\n                      <li>Upload images above, then click \"Insert\" to add them to your content</li>\r\n                      <li>Images will be automatically embedded in the email</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Live Preview Section */}\r\n              {(newsletterContent || uploadedImages.length > 0) && (\r\n                <div className=\"bg-gray-50 rounded-xl p-6 border-2 border-gray-200\">\r\n                  <label className=\"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-4\">\r\n                    <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                    </svg>\r\n                    Live Preview\r\n                  </label>\r\n                  <div className=\"bg-white rounded-lg p-8 shadow-inner max-h-96 overflow-y-auto border border-gray-300\">\r\n                    <div \r\n                      className=\"prose prose-sm max-w-none prose-headings:text-gray-900 prose-p:text-gray-700 prose-a:text-blue-600 prose-strong:text-gray-900 prose-img:rounded-lg prose-img:shadow-md\"\r\n                      dangerouslySetInnerHTML={{ __html: newsletterContent }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Sending Progress */}\r\n              {sending && (\r\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600\"></div>\r\n                    <span className=\"text-sm font-medium text-blue-900\">\r\n                      Sending newsletter...\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"p-6 border-t border-gray-200 flex gap-3 justify-end\">\r\n              <button\r\n                onClick={() => setShowComposeModal(false)}\r\n                disabled={sending}\r\n                className=\"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleSendNewsletter}\r\n                disabled={sending || !newsletterSubject.trim() || !newsletterContent.trim()}\r\n                className=\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n              >\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\r\n                </svg>\r\n                {sending ? 'Sending...' : `Send to ${stats.active} Subscribers`}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OASe,SAAS,IACtB,GAAM,CAAE,KAAM,CAAO,QAAE,CAAM,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,IACtC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,EAAE,EACzD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,OAC3C,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACnD,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACrD,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACrD,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgD,EAAE,EAChG,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA2C,UAC3F,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EAC3D,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACjC,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAEvD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACO,mBAAmB,CAA9B,GACF,EAAO,IAAI,CAAC,eAEhB,EAAG,CAAC,EAAQ,EAAO,EAEnB,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACO,iBAAiB,CAA5B,GACF,GAEJ,EAAG,CAAC,EAAO,EAEX,IAAM,EAAmB,UACvB,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,mBACvB,EAAO,MAAM,EAAS,IAAI,GAChC,EAAe,EACjB,CAAE,MAAO,EAAO,CAEhB,QAAU,CACR,GAAW,EACb,CACF,EAEM,EAAqB,MAAO,EAAY,KAC5C,GAAI,CAOE,CANa,MAAM,MAAM,CAAC,mBAAmB,EAAE,EAAA,CAAI,CAAE,CACvD,OAAQ,QACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CAAE,SAAU,CAAC,CAAc,EAClD,EAAA,EAEa,EAAE,CACb,CADe,GAGf,MAAM,qCAEV,CAAE,MAAO,EAAO,CAEd,MAAM,mCACR,CACF,EAEM,EAAe,MAAO,IAC1B,GAAK,CAAD,OAAS,oDAEb,CAFkE,EAE9D,CAKE,CAJa,MAAM,MAAM,CAAC,mBAAmB,EAAE,EAAA,CAAI,CAAE,CACvD,OAAQ,QACV,EAAA,EAEa,EAAE,EAAE,AACf,IACA,MAAM,qCAEN,MAAM,8BAEV,CAAE,MAAO,EAAO,CAEd,MAAM,4BACR,CACF,EAwBM,EAAoB,MAAO,IAC/B,IAAM,EAAQ,MAAM,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK,EAAI,EAAE,EAC7C,GAAqB,IAAjB,EAAM,MAAM,CAAQ,OAExB,IAAM,EAAY,EAAM,GAAG,CAAC,IAAS,GAAD,GAClC,EACA,QAAS,IAAI,eAAe,CAAC,GAC7B,GAAI,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAC3C,CAAC,EAED,EAAkB,GAAQ,IAAI,KAAS,EAAU,CACnD,EAeM,EAAuB,UAC3B,GAAI,CAAC,EAAkB,IAAI,IAAM,CAAC,EAAkB,IAAI,GAAI,YAC1D,MAAM,2CAKR,IAAI,EAAiC,EAAE,CAWvC,GAVwB,OAAO,CAA3B,EACF,EAAmB,EACU,UAAU,CAA9B,EACT,EAAmB,EAAY,MAAM,CAAC,GAAK,EAAE,QAAQ,EACxB,YAAY,CAAhC,EACT,EAAmB,EAAY,MAAM,CAAC,GAAK,CAAC,EAAE,QAAQ,EAC7C,AAAoB,UAAU,KACvC,EAAmB,EAAY,MAAM,CAAC,GAAK,EAAe,QAAQ,CAAC,EAAE,KAAK,EAAA,EAG5C,IAA5B,EAAiB,MAAM,CAAQ,YACjC,MAAM,iEAIR,GAAK,CAAD,OAAS,CAAC,mBAAmB,EAAE,EAAiB,MAAM,CAAC,eAAe,CAAC,GAAG,AAI9E,GAAW,GACX,EAAmB,GAEnB,GAAI,CAEF,IAAM,EAAgB,EAAe,GAAG,CAAC,MAAO,GACvC,IAAI,QAAsC,AAAC,IAChD,IAAM,EAAS,IAAI,WACnB,EAAO,SAAS,CAAG,KACjB,EAAQ,CAAE,GAAI,EAAI,EAAE,CAAE,KAAM,EAAO,MAAM,AAAW,EACtD,EACA,EAAO,aAAa,CAAC,EAAI,IAAI,CAC/B,IAGI,EAAe,MAAM,QAAQ,GAAG,CAAC,GAGnC,EAAe,EACnB,EAAe,OAAO,CAAC,CAAC,EAAK,KAC3B,EAAe,EAAa,OAAO,CAAC,EAAI,OAAO,CAAE,CAAY,CAAC,EAAM,CAAC,IAAI,CAC3E,GAEA,IAAM,EAAW,MAAM,MAAM,uBAAwB,CACnD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,QAAS,EACT,QAAS,EACT,WAAY,EAAiB,GAAG,CAAC,GAAK,EAAE,KAAK,CAC/C,EACF,GAEA,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAS,MAAM,EAAS,IAAI,GAClC,MAAM,CAAC,gCAAgC,EAAE,EAAO,IAAI,CAAC,aAAa,CAAC,EACnE,GAAoB,GACpB,EAAqB,IACrB,EAAqB,IACrB,EAAkB,EAAE,CACtB,KAAO,CACL,IAAM,EAAQ,MAAM,EAAS,IAAI,GACjC,MAAM,CAAC,2BAA2B,EAAE,EAAM,KAAK,CAAA,CAAE,CACnD,CACF,CAAE,MAAO,EAAO,CAEd,MAAM,2BACR,QAAU,CACR,GAAW,GACX,EAAmB,EACrB,EACF,EAEM,EAAsB,EAAY,MAAM,CAAC,IAC7C,IAAM,EAAgB,EAAI,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,EAAY,WAAW,IACxE,EAAgB,AAAiB,WACA,WAAjB,GAA6B,EAAI,QAAQ,EACxB,aAAjB,GAA+B,CAAC,EAAI,QAAQ,CAClE,OAAO,GAAiB,CAC1B,GAEM,EAAQ,CACZ,MAAO,EAAY,MAAM,CACzB,OAAQ,EAAY,MAAM,CAAC,GAAK,EAAE,QAAQ,EAAE,MAAM,CAClD,SAAU,EAAY,MAAM,CAAC,GAAK,CAAC,EAAE,QAAQ,EAAE,MAAM,AACvD,QAEA,AAAe,YAAX,GAAwB,EAExB,CAAA,EAAA,EAAA,EAFiC,CAEjC,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCAA2B,iBAKjC,mBAAmB,CAA9B,EAAqC,KAGvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAQ,CAAA,CAAA,GACT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAwC,2BACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,uDAE/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAoB,GACnC,UAAU,kIAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,6HACjE,wBAGR,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QA9KM,CA8KG,IA5KrB,IAWM,EAAO,AAXP,IAWW,KAAK,CALH,CACjB,QAAQ,IAAI,CAAC,mBAPF,AAQR,EAR4B,GAAG,CAAC,GAAO,CAC1C,EAAI,KAAK,CACT,IAAI,KAAK,EAAI,YAAY,EAAE,cAAc,GACzC,EAAI,QAAQ,CAAG,SAAW,WAC3B,EAIS,GAAG,CAAC,GAAO,EAAI,GAAG,CAAC,GAAQ,CAAC,CAAC,EAAE,EAAK,CAAC,CAAC,EAAE,IAAI,CAAC,MACtD,CAAC,IAAI,CAAC,MAE2B,CAAE,CAAE,KAAM,UAAW,GACjD,EAAM,OAAO,GAAG,CAAC,eAAe,CAAC,GACjC,EAAI,SAAS,aAAa,CAAC,KACjC,EAAE,IAAI,CAAG,EACT,EAAE,QAAQ,CAAG,CAAC,uBAAuB,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CACnF,EAAE,KAAK,GACP,OAAO,GAAG,CAAC,eAAe,CAAC,EAC7B,EA2Jc,UAAU,wIAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,sIACjE,sBAOZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,6GAGzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,sBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAoC,EAAM,KAAK,WAKlE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBAAyB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAChF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,sDAGzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,WACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAoC,EAAM,MAAM,WAKnE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAuB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,uGAGzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAoC,aACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAoC,EAAM,QAAQ,cAOvE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,WAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,YAAY,qBACZ,UAAU,8IAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,qBAGhE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,UAAU,mJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,iBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,kBAAS,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,wBAOjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mBACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,+CACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4FAAmF,UAGjG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4FAAmF,kBAGjG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4FAAmF,WAGjG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6FAAoF,iBAKtG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,oCACd,AAA+B,MAAX,MAAM,CACzB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,QAAS,EAAG,UAAU,mCACxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAAuC,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC9F,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,2GAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,8BAIjC,EAAoB,GAAG,CAAC,AAAC,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAuB,UAAU,+CAChC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BAA2B,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAClF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,sHAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CAAqC,EAAW,KAAK,QAGzE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,4CACX,IAAI,KAAK,EAAW,YAAY,EAAE,kBAAkB,GAAG,MAAI,IAC3D,IAAI,KAAK,EAAW,YAAY,EAAE,kBAAkB,MAEvD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAmB,EAAW,EAAE,CAAE,EAAW,QAAQ,EACpE,UAAW,CAAC,+DAA+D,EACzE,EAAW,QAAQ,CACf,iDACA,2CAAA,CACJ,UAED,EAAW,QAAQ,CAAG,SAAW,eAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gCACZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAa,EAAW,EAAE,EACzC,UAAU,iFACX,eA/BI,EAAW,EAAE,YA4ClC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAAyC,WAC7C,EAAoB,MAAM,CAAC,OAAK,EAAY,MAAM,CAAC,uBAMjE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,uBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAoB,GACnC,UAAU,+DAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gCAI3E,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCAA6B,WAC/B,EAAM,MAAM,CAAC,4BAI1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oGACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,6EACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BAA2B,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAClF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,6QACjE,yBAIR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,2NACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,KAAK,kBACL,MAAM,SACN,QAAS,AAAoB,aAC7B,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,UAAU,oDAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,uBAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,EAAM,MAAM,CAAC,wBAIvD,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,2NACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,KAAK,kBACL,MAAM,MACN,QAA6B,QAApB,EACT,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,UAAU,oDAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,oBAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,EAAM,KAAK,CAAC,wBAItD,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,2NACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,KAAK,kBACL,MAAM,WACN,QAA6B,aAApB,EACT,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,UAAU,oDAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,yBAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,EAAM,QAAQ,CAAC,wBAIzD,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,2NACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,KAAK,kBACL,MAAM,SACN,QAAS,AAAoB,aAC7B,SAAU,AAAC,GAAM,EAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,UAAU,oDAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,qBAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,oCAM1C,AAAoB,cACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,gDAAsC,uBAC5B,EAAe,MAAM,CAAC,gBAE7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAkB,EAAY,GAAG,CAAC,GAAK,EAAE,KAAK,GAC7D,UAAU,2GACX,eAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAkB,EAAE,EACnC,UAAU,kGACX,gBAKL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAY,GAAG,CAAC,AAAC,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAEC,UAAU,sFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAe,QAAQ,CAAC,EAAW,KAAK,EACjD,SAAU,AAAC,IACL,EAAE,MAAM,CAAC,OAAO,CAClB,CADoB,CACF,GAAQ,IAAI,EAAM,EAAW,KAAK,CAAC,EAErD,EAAkB,GAAQ,EAAK,MAAM,CAAC,GAAS,IAAU,EAAW,KAAK,EAE7E,EACA,UAAU,4DAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAgC,EAAW,KAAK,GAChE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,+BAA+B,EAAE,EAAW,QAAQ,CAAG,8BAAgC,4BAAA,CAA6B,UACnI,EAAW,QAAQ,CAAG,SAAW,eAjB/B,EAAW,EAAE,QA0B5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BAA2B,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAClF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gEAEvE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,mDAAyC,8BAE9B,QAApB,EAA4B,EAAM,KAAK,CACnB,WAApB,EAA+B,EAAM,MAAM,CACvB,aAApB,EAAiC,EAAM,QAAQ,CAC/C,EAAe,MAAM,CACtB,4BAOT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,6EACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,kGACjE,oBAGR,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAqB,EAAE,MAAM,CAAC,KAAK,EACpD,YAAY,mCACZ,UAAU,oNAKd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8GACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,6EACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gKACjE,yBAGR,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,OAAO,UACP,QAAQ,CAAA,CAAA,EACR,SAAU,EACV,UAAU,SACV,GAAG,iBAEL,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CACC,QAAQ,eACR,UAAU,uLAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+BAA+B,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACtF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,4FAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAmC,qCAChD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,gCAItC,EAAe,MAAM,CAAG,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDACZ,EAAe,GAAG,CAAE,AAAD,GAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAiB,UAAU,2BAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAI,OAAO,CAChB,IAAI,WACJ,UAAU,2EAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2JACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,oBAxgBX,EAwgBgC,EAAI,OAAO,CAvgBjE,EAAW,CAAC,UAAU,EAAE,EAAS,sGAAsG,CAAC,MAC9I,EAAqB,GAAQ,EAAO,KAAO,IAugBnB,UAAU,uKACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,cAthBpB,EAshBgC,EAAI,EAAE,MArhBzD,EAAkB,IAChB,IAAM,EAAQ,EAAK,IAAI,CAAC,GAAO,EAAI,EAAE,GAAK,GAE1C,OADI,GAAO,IAAI,eAAe,CAAC,EAAM,OAAO,EACrC,EAAK,MAAM,CAAC,GAAO,EAAI,EAAE,GAAK,EACvC,IAkhBwB,UAAU,qKACX,gBAhBK,EAAI,EAAE,QA2BxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,6EACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,qBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,6HACjE,0BAGR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAqB,EAAE,MAAM,CAAC,KAAK,EACpD,YAAY,+KACZ,KAAM,GACN,UAAU,iNAGd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CAA8C,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACrG,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,gEAEvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,cAClC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,4CACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,uDACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,yEACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,mEAOX,CAAC,GAAqB,EAAe,MAAM,EAAG,CAAC,EAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,6EACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,sBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,qCACrE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,+HACjE,kBAGR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,yKACV,wBAAyB,CAAE,OAAQ,CAAkB,SAO5D,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iEACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CAAoC,kCAS5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gEACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAoB,GACnC,SAAU,EACV,UAAU,sKACX,WAGD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,GAAW,CAAC,EAAkB,IAAI,IAAM,CAAC,EAAkB,IAAI,GACzE,UAAU,kLAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,qBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,uCAEtE,EAAU,aAAe,CAAC,QAAQ,EAAE,EAAM,MAAM,CAAC,YAAY,CAAC,cAQ/E"}